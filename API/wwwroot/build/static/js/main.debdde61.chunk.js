(this["webpackJsonpweb-ui"]=this["webpackJsonpweb-ui"]||[]).push([[0],{229:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return St}));var r=n(0),s=n.n(r),c=n(29),a=n.n(c),o=n(3),i=n(4),l=(n(106),n(32)),u="/",d="/login",j="/register",b="/game-board",m="/server-error",p="/leaderboard",f=n(6),h=n(18),O=n(16),x=n(7),g=n.n(x),v=n(20),y=n(33),w=n.n(y),N=n(15),k=n(14),S={correctGuesses:0,failedGuesses:0,availableGuesses:6,isLoading:!0},L=Object(k.b)({name:"game",initialState:S,reducers:{processFailedGuess:function(e){e.failedGuesses++,e.availableGuesses--},reset:function(e){return S},processCorrectGuess:function(e,t){e.correctGuesses+=t.payload},isLoading:function(e,t){e.isLoading=t.payload},resetFailedGuesses:function(e){e.failedGuesses=0}}}),C=L.actions,P=C.processFailedGuess,G=C.reset,A=C.processCorrectGuess,I=C.isLoading,E=(C.resetFailedGuesses,L.reducer),H=n(96),q={token:localStorage.getItem("token"),isTokenExpired:function(){if(null===q.token)return!0;var e=Object(H.a)(q.token);return!e.exp||1e3*e.exp<Date.now()},loginSession:function(e){window.localStorage.setItem("token",e),je.login()},removeToken:function(){return window.localStorage.clear()}},M={isLogedIn:!q.isTokenExpired()},B=Object(k.b)({name:"session",initialState:M,reducers:{login:function(e){e.isLogedIn=!0},logout:function(e){e.isLogedIn=!1}}}),T=B.actions,U=T.login,R=T.logout,F=B.reducer,D=n(25),z=Object(k.b)({name:"level",initialState:{id:"",secret:"",clue:"",difficulty:"",gameScoreReward:0,hints:[],secretMask:[],starReward:0,isComplete:!1,leftToGuess:0},reducers:{loadLevel:function(e,t){return Object(D.a)(Object(D.a)({},t.payload),{},{secretMask:(n=t.payload.secret,n.split("").map((function(){return"#"}))),leftToGuess:t.payload.secret.length,isComplete:!1});var n},updateMask:function(e,t){e.secretMask[t.payload]=e.secret[t.payload],e.leftToGuess--,e.isComplete=0===e.leftToGuess},showHint:function(e,t){e.hints.forEach((function(e){e.id===t.payload&&(e.show=!0)}))}}}),W=z.actions,V=W.loadLevel,J=W.updateMask,K=W.showHint,Q=z.reducer,X=Object(k.b)({name:"player",initialState:{id:"",userName:"",gameScore:0,stars:0,completeLevels:0},reducers:{loadPlayer:function(e,t){return t.payload},addStars:function(e,t){e.stars+=t.payload},removeStars:function(e,t){e.stars<t.payload?e.stars=0:e.stars-=t.payload},processLevelCompletion:function(e,t){e.completeLevels++,e.gameScore+=t.payload}}}),Y=X.actions,Z=Y.loadPlayer,$=Y.addStars,_=Y.processLevelCompletion,ee=Y.removeStars,te=X.reducer,ne=Object(k.b)({name:"error",initialState:{message:"",statusCode:0,isSet:!1},reducers:{setError:function(e,t){e.message=t.payload.message,e.statusCode=t.payload.statusCode,e.isSet=!0}}}),re=ne.actions.setError,se=ne.reducer,ce=Object(N.b)({level:Q,player:te,session:F,game:E,error:se}),ae=Object(k.a)({reducer:ce}),oe=function(){return ae.dispatch(G())},ie=function(e){return ae.dispatch(I(e))},le=function(){return ae.dispatch(P())},ue=function(e){return ae.dispatch(A(e))},de=function(e){return ae.dispatch(re(e))},je={login:function(){return ae.dispatch(U())},logout:function(){return ae.dispatch(R())}},be=function(e){return ae.dispatch($(e))},me=function(e){return ae.dispatch(Z(e))},pe=function(e){return ae.dispatch(ee(e))},fe=function(e){return ae.dispatch(_(e))},he=function(e){return ae.dispatch(K(e))},Oe=function(e){return ae.dispatch(V(e))},xe=function(e){return ae.dispatch(J(e))};w.a.defaults.baseURL="/api/";var ge=function(e){return e.data};w.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return null!=t&&(e.headers.Authorization="Bearer ".concat(t)),e})),w.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:l.b.dark(n.toString());break;case 401:l.b.dark("unauthorised");break;case 404:l.b.dark("not found");break;case 500:de(n),St.push(m)}return Promise.reject(e)}));var ve,ye={headers:{"content-type":"application/json"}},we=function(e){return w.a.get(e).then(ge)},Ne=function(e,t){return w.a.post(e,t,ye).then(ge)},ke={loginAsync:function(e){return Ne("/account/login",e)},registerAsync:function(e){return Ne("/account/register",e)}},Se={getCurrentPlayerAsync:function(){return we("/account/getplayer")},processCompleteLevel:function(e){return Ne("/game/prosesscompleteLevel",e)},removeStarsAsync:function(e){return Ne("/game/removestars",{deduction:e})}},Le={getLevelAsync:function(){return we("/game/level")},restartAsync:function(){return we("/game/restart")},showHintAsync:function(e){return Ne("/Game/showHint",{hintId:e})}},Ce={getLeaderboardData:function(){return we("/game/leaderboard")}},Pe=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1e3,n=Date.now(),t.then((function(e){Oe(e);var t=1e3-(Date.now()-n);t=t>0?t:0,setTimeout((function(){ie(!1)}),t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge={showHint:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.showHintAsync(t).then((function(){he(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),loadLevel:function(){return Pe(Le.getLevelAsync())},restartLevel:function(){return Pe(Le.restartAsync())}},Ae={loadPlayer:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.next=3,Se.getCurrentPlayerAsync().then((function(e){me(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),removeStars:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.removeStarsAsync(t).then((function(){pe(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),completeLevel:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.processCompleteLevel(t).then((function(){fe(t.gameScore)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ie={loginPlayer:function(e){ke.loginAsync(e).then((function(e){me(e.data),q.loginSession(e.token),Ge.loadLevel().then((function(){St.push(b)}))}))},returnPlayer:function(){Ae.loadPlayer().then((function(){Ge.loadLevel()}))},logOutPlayer:function(){q.removeToken(),je.logout(),St.push("/")},showHint:function(e,t){Ge.showHint(e).then((function(){Ae.removeStars(t)}))},processLevelCompletion:function(){var e=function(){var e=ae.getState().level.gameScoreReward;return{stars:ae.getState().player.stars,gameScore:e,levelId:ae.getState().level.id}}();Ae.completeLevel(e)},registerPlayer:function(e){ke.registerAsync(e).then((function(e){ie(!0),me(e.data),Ge.loadLevel(),q.loginSession(e.token),St.push(b)}))},disableKey:function(e){e.target.classList.add("used")},processGuess:function(e){var t=ae.getState().level;if(!1===function(e,t,n){return e.toUpperCase().includes(n)&&!t.toString().toUpperCase().includes(n)}(t.secret,t.secretMask,e))le();else{var n=function(e,t){for(var n=0,r=0;r<t.length;r++)t[r].toUpperCase()===e&&(xe(r),n++);return n}(e,t.secret);ue(n),be(t.starReward)}},getLeaderboard:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.getLeaderboardData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),restart:function(){oe(),Ge.restartLevel()},loadNewLevel:function(){ie(!0),Ge.loadLevel()}},Ee=n(1),He=O.a({username:O.c().required("Username required"),password:O.c().required("Password is required")}),qe={username:"",password:""},Me=function(){return Object(Ee.jsx)(f.d,{initialValues:qe,validationSchema:He,onSubmit:function(e){return t=e,void Ie.loginPlayer(t);var t},children:Object(Ee.jsxs)(f.c,{className:"form",children:[Object(Ee.jsxs)("div",{className:"form-row",children:[Object(Ee.jsx)(f.a,{className:"error-msg",name:"username"}),Object(Ee.jsx)(f.b,{className:"input",id:"username",type:"text",name:"username",placeholder:"Username",autoComplete:"off"})]}),Object(Ee.jsxs)("div",{className:"form-row",children:[Object(Ee.jsx)(f.a,{className:"error-msg",name:"password"}),Object(Ee.jsx)(f.b,{className:"input",id:"password",type:"password",name:"password",placeholder:"Password"})]}),Object(Ee.jsxs)("div",{className:"button-row",children:[Object(Ee.jsx)(h.a,{to:u,className:"button",children:"Back"}),Object(Ee.jsx)("button",{className:"button",type:"submit",children:"Log in"})]})]})})},Be=O.a({username:O.c().required("Username is required"),password:O.c().required("Password is required"),confirmPassword:O.c().required("Password confirmation is required").oneOf([O.b("password")],"Passwords does not match")}),Te={username:"",password:"",confirmPassword:""},Ue=function(){return Object(Ee.jsx)(f.d,{initialValues:Te,validationSchema:Be,onSubmit:function(e){return function(e){Ie.registerPlayer(e)}(e)},children:Object(Ee.jsxs)(f.c,{className:"form",children:[Object(Ee.jsxs)("div",{className:"form-row",children:[Object(Ee.jsx)(f.a,{className:"error-msg",name:"username"}),Object(Ee.jsx)(f.b,{className:"input",id:"username",type:"text",name:"username",placeholder:"Username",autoComplete:"off"})]}),Object(Ee.jsxs)("div",{className:"form-row",children:[Object(Ee.jsx)(f.a,{className:"error-msg",name:"password"}),Object(Ee.jsx)(f.b,{className:"input",id:"password",type:"password",name:"password",placeholder:"Password"})]}),Object(Ee.jsxs)("div",{className:"form-row",children:[Object(Ee.jsx)(f.a,{className:"error-msg",name:"confirmPassword"}),Object(Ee.jsx)(f.b,{className:"input",id:"confirmPassword",type:"password",name:"confirmPassword",placeholder:"Confirm password"})]}),Object(Ee.jsxs)("div",{className:"button-row",children:[Object(Ee.jsx)(h.a,{to:u,className:"button",children:"Back"}),Object(Ee.jsx)("button",{className:"button",type:"submit",children:"Register"})]})]})})},Re=function(){Ie.logOutPlayer()},Fe=function(){var e=Object(o.b)((function(e){return e.player.userName}));return Object(Ee.jsxs)("header",{className:"header",children:[Object(Ee.jsx)("p",{className:"username",children:e}),Object(Ee.jsxs)("div",{className:"links",children:[Object(Ee.jsx)("p",{className:"button",onClick:function(){return St.push(p)},children:"Leader Board"}),Object(Ee.jsx)("p",{className:"button",onClick:Re,children:"Log out"})]})]})},De=function(e){var t=e.id,n=e.clue,r=e.price,s=e.show,c=Object(o.b)((function(e){return e.player.stars})),a=c<r?"disabled ":"";return s?Object(Ee.jsx)("p",{children:n}):Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("p",{children:"Click SHOW to reveal this clue"}),Object(Ee.jsxs)("p",{children:["Cost: ",r," stars"]}),Object(Ee.jsx)("p",{className:a+"button",onClick:function(){c>=r&&Ie.showHint(t,r)},children:"SHOW"})]})},ze=function(){var e=Object(o.b)((function(e){return e.level.hints}));return Object(Ee.jsx)("section",{children:Object(Ee.jsx)("ul",{className:"hints",children:e.map((function(e){return Object(Ee.jsx)("li",{className:"hint",children:Object(Ee.jsx)(De,Object(D.a)({},e))},e.id)}))})})},We=function(e){var t=e.letter;return Object(Ee.jsx)("p",{className:"key-letter button",onClick:function(e){return function(e,t){Ie.disableKey(e),Ie.processGuess(t)}(e,t)},children:t})},Ve=["Q","W","E","R","T","Y","U","I","O","P"],Je=["A","S","D","F","G","H","J","K","L"],Ke=["Z","X","C","V","B","N","M"],Qe=function(){return Object(Ee.jsxs)("section",{className:"keyboard",children:[Object(Ee.jsx)("div",{className:"keyboard-row",children:Ve.map((function(e){return Object(Ee.jsx)(We,{letter:e},e)}))}),Object(Ee.jsx)("div",{className:"keyboard-row",children:Je.map((function(e){return Object(Ee.jsx)(We,{letter:e},e)}))}),Object(Ee.jsx)("div",{className:"keyboard-row",children:Ke.map((function(e){return Object(Ee.jsx)(We,{letter:e},e)}))})]})},Xe=function(){Ie.restart()},Ye=function(){return Object(Ee.jsxs)("div",{className:"message",children:[Object(Ee.jsx)("h2",{className:"title",children:"Game Over..."}),Object(Ee.jsx)("p",{className:"button",onClick:Xe,children:"Click to restart"})]})},Ze=function(){Ie.loadNewLevel()},$e=function(){return Object(Ee.jsxs)("div",{className:"message",children:[Object(Ee.jsx)("h2",{className:"title",children:"Level complete..."}),Object(Ee.jsx)("p",{className:"button",onClick:Ze,children:"Click to continue"})]})},_e=function(){return Object(Ee.jsx)("div",{className:"message",children:Object(Ee.jsx)("h2",{className:"title",children:"Loading..."})})},et=["title","titleId"];function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rt(e,t){var n=e.title,s=e.titleId,c=nt(e,et);return r.createElement("svg",tt({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"question-circle",className:"svg-inline--fa fa-question-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":s},c),n?r.createElement("title",{id:s},n):null,ve||(ve=r.createElement("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})))}var st=r.forwardRef(rt),ct=(n.p,function(){var e=Object(o.b)((function(e){return e.level.clue})),t=Object(o.b)((function(e){return e.level.secretMask}));return Object(Ee.jsxs)("section",{className:"quiz-container",children:[Object(Ee.jsx)("h5",{className:"clue",children:e}),Object(Ee.jsx)("div",{className:"secret",children:t.map((function(e,t){return"#"===e?Object(Ee.jsx)("p",{className:"letter",children:Object(Ee.jsx)(st,{},t)},t):Object(Ee.jsx)("p",{className:"letter",children:e},t)}))})]})}),at=function(){var e=Object(o.b)((function(e){return e.game.isLoading})),t=Object(o.b)((function(e){return e.level.isComplete})),n=Object(o.b)((function(e){return 0===e.game.availableGuesses}));return e?Object(Ee.jsx)(_e,{}):t?Object(Ee.jsx)($e,{}):n?Object(Ee.jsx)(Ye,{}):Object(Ee.jsxs)("div",{className:"play-area",children:[Object(Ee.jsx)(ct,{}),Object(Ee.jsx)(ze,{}),Object(Ee.jsx)(Qe,{})]})},ot=n.p+"static/media/hangman-0.dc6d25b0.png",it=n.p+"static/media/hangman-2.9c1d99b6.png",lt=n.p+"static/media/hangman-3.42b06d99.png",ut=n.p+"static/media/hangman-1.87eeefc7.png",dt=n.p+"static/media/hangman-4.94dd341e.png",jt=n.p+"static/media/hangman-5.3b80d7c0.png",bt=[n.p+"static/media/hangman-6.7018a2f6.png",jt,dt,lt,it,ut,ot],mt=function(){var e=Object(o.b)((function(e){return e.game.failedGuesses}));return Object(Ee.jsx)("div",{className:"hangman",children:Object(Ee.jsx)("img",{src:bt[e],alt:"hangman"})})},pt=function(){var e=Object(o.b)((function(e){return e.player})),t=Object(o.b)((function(e){return e.level.difficulty}));return Object(Ee.jsxs)("div",{className:"statistics",children:[Object(Ee.jsxs)("p",{children:["Game Score: ",e.gameScore]}),Object(Ee.jsxs)("p",{children:["Stars: ",e.stars]}),Object(Ee.jsxs)("p",{children:["Levels Completed: ",e.completeLevels]}),Object(Ee.jsxs)("p",{children:["Difficulty: ",t]})]})},ft=function(){return Object(Ee.jsxs)("aside",{className:"sidebar",children:[Object(Ee.jsx)(pt,{}),Object(Ee.jsx)(mt,{})]})},ht=function(){return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Fe,{}),Object(Ee.jsx)(at,{}),Object(Ee.jsx)(ft,{})]})},Ot=function(){return Object(Ee.jsxs)("div",{className:"home-page",children:[Object(Ee.jsx)("h1",{className:"title",children:"Welcome to the hangman game"}),Object(Ee.jsxs)("div",{className:"button-row",children:[Object(Ee.jsx)(h.a,{to:{pathname:j},className:"button",children:"Register"}),Object(Ee.jsx)(h.a,{to:{pathname:d},className:"button",children:"Log In"})]})]})},xt=(n(228),function(){return Object(Ee.jsxs)("div",{className:"message fullscreen",children:[Object(Ee.jsx)("h2",{className:"title",children:"What you are looking for is not here..."}),Object(Ee.jsx)("p",{className:"button",onClick:function(){return St.push(u)},children:"Go to Home Page"})]})}),gt=function(){var e=Object(o.b)((function(e){return e.error}));return Object(Ee.jsxs)("div",{className:"message fullscreen",children:[Object(Ee.jsx)("h2",{className:"title",children:"Internal server error...."}),Object(Ee.jsxs)("p",{children:["Status code: ",e.statusCode]}),Object(Ee.jsxs)("p",{children:["Error code: ",e.message]}),Object(Ee.jsx)("p",{className:"button",onClick:function(){return St.push(u)},children:"Go to Home Page"})]})},vt=function(){return Object(Ee.jsxs)("div",{className:"message fullscreen",children:[Object(Ee.jsx)("h2",{className:"title",children:"Access denied..."}),Object(Ee.jsx)("p",{className:"button",onClick:function(){return St.push(u)},children:"Go to Home Page"})]})},yt=n(28),wt=function(){var e=Object(r.useState)([]),t=Object(yt.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)((function(){Ie.getLeaderboard().then((function(e){s(e)}))}),[]),console.log(n),Object(Ee.jsx)("div",{className:"leaderboard",children:Object(Ee.jsxs)("div",{className:"table-container",children:[Object(Ee.jsxs)("table",{children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"Position"}),Object(Ee.jsx)("th",{children:"Username"}),Object(Ee.jsx)("th",{children:"Game Score"})]})}),Object(Ee.jsx)("tbody",{children:n.map((function(e,t){return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{children:t+1}),Object(Ee.jsx)("td",{children:e.username}),Object(Ee.jsx)("td",{children:e.gameScore})]},e.id)}))})]}),Object(Ee.jsx)("p",{onClick:function(){return St.goBack()},className:"button",children:"Back"})]})})};var Nt=function(){var e=Object(o.b)((function(e){return e.level.isComplete})),t=Object(o.b)((function(e){return e.session.isLogedIn})),n=Object(o.b)((function(e){return e.error.isSet}));return Object(r.useEffect)((function(){t&&Ie.returnPlayer()}),[]),Object(r.useEffect)((function(){e&&Ie.processLevelCompletion()}),[e]),Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(l.a,{position:"top-center",autoClose:1500,hideProgressBar:!0}),Object(Ee.jsx)("main",{className:"game-board",children:Object(Ee.jsxs)(i.c,{children:[Object(Ee.jsx)(i.a,{exact:!0,path:u,component:Ot}),Object(Ee.jsx)(i.a,{path:j,component:Ue}),Object(Ee.jsx)(i.a,{path:d,component:Me}),Object(Ee.jsx)(i.a,{path:m,component:n?gt:xt}),Object(Ee.jsx)(i.a,{path:b,component:t?ht:vt}),Object(Ee.jsx)(i.a,{path:p,component:t?wt:vt}),Object(Ee.jsx)(i.a,{component:xt})]})})]})},kt=n(9),St=(n(229),Object(kt.a)());a.a.render(Object(Ee.jsx)(s.a.StrictMode,{children:Object(Ee.jsx)(o.a,{store:ae,children:Object(Ee.jsx)(i.b,{history:St,children:Object(Ee.jsx)(Nt,{})})})}),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.debdde61.chunk.js.map